(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{809:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2895).A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1539:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2895).A)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},2138:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2895).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2915:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2895).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4186:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(2895).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7121:(e,t,s)=>{Promise.resolve().then(s.bind(s,7957))},7957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f,dynamic:()=>N});var a=s(5155),i=s(2115),r=s(4794),l=s(2915),c=s(4186),d=s(809),n=s(5525),o=s(2895);let m=(0,o.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),x=(0,o.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var h=s(2138),u=s(7434),p=s(1539),j=s(6874),y=s.n(j),g=s(8915);let N="force-dynamic";function f(){let[e,t]=(0,i.useState)([]),[s,o]=(0,i.useState)({totalAudits:0,completedAudits:0,criticalIssues:0,averageScore:0});return(0,i.useEffect)(()=>{(async()=>{try{let e=g.j2.currentUser;if(!e)return;let s=await e.getIdToken(),a=await fetch("/api/audit",{headers:{Authorization:"Bearer ".concat(s)}});if(a.ok){let e=(await a.json()).audits||[],s=e.slice(0,5).map(e=>({id:e.id,repository:e.repository,status:e.status,completedAt:e.completedAt?new Date(1e3*e.completedAt.seconds):void 0,vulnerabilities:e.summary||{critical:0,high:0,medium:0,low:0}}));t(s);let i=e.length,r=e.filter(e=>"completed"===e.status).length,l=e.reduce((e,t)=>{var s;return e+((null==(s=t.summary)?void 0:s.critical)||0)},0),c=e.length>0?Math.round(e.reduce((e,t)=>e+(t.score||0),0)/e.length):0;o({totalAudits:i,completedAudits:r,criticalIssues:l,averageScore:c})}}catch(e){console.error("Failed to fetch audits:",e)}})()},[]),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-dark-300",children:"Welcome back! Here's an overview of your security audits."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-dark-400 text-sm",children:"Total Audits"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:s.totalAudits})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(n.A,{className:"w-6 h-6 text-primary-400"})})]})}),(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-dark-400 text-sm",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:s.completedAudits})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-green-600/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(l.A,{className:"w-6 h-6 text-green-400"})})]})}),(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-dark-400 text-sm",children:"Critical Issues"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:s.criticalIssues})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(d.A,{className:"w-6 h-6 text-red-400"})})]})}),(0,a.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-dark-400 text-sm",children:"Avg Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-white",children:[s.averageScore,"%"]})]}),(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-600/20 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m,{className:"w-6 h-6 text-accent-400"})})]})})]}),(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"card mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(y(),{href:"/dashboard/audit",className:"flex items-center gap-4 p-4 bg-dark-800 rounded-lg hover:bg-dark-700 transition-colors group",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center group-hover:bg-primary-600/30 transition-colors",children:(0,a.jsx)(x,{className:"w-6 h-6 text-primary-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"New Security Audit"}),(0,a.jsx)("p",{className:"text-sm text-dark-300",children:"Scan a new repository for vulnerabilities"})]}),(0,a.jsx)(h.A,{className:"w-5 h-5 text-dark-400 group-hover:text-white transition-colors"})]}),(0,a.jsxs)(y(),{href:"/dashboard/reports",className:"flex items-center gap-4 p-4 bg-dark-800 rounded-lg hover:bg-dark-700 transition-colors group",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent-600/20 rounded-lg flex items-center justify-center group-hover:bg-accent-600/30 transition-colors",children:(0,a.jsx)(u.A,{className:"w-6 h-6 text-accent-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:"View Reports"}),(0,a.jsx)("p",{className:"text-sm text-dark-300",children:"Check your previous audit results"})]}),(0,a.jsx)(h.A,{className:"w-5 h-5 text-dark-400 group-hover:text-white transition-colors"})]})]})]}),(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Recent Audits"}),(0,a.jsxs)(y(),{href:"/dashboard/reports",className:"text-primary-400 hover:text-primary-300 text-sm font-medium flex items-center gap-2",children:["View All ",(0,a.jsx)(h.A,{className:"w-4 h-4"})]})]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(p.A,{className:"w-16 h-16 text-dark-600 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No audits yet"}),(0,a.jsx)("p",{className:"text-dark-400 mb-6",children:"Start your first security audit to see results here."}),(0,a.jsx)(y(),{href:"/dashboard/audit",className:"btn-primary",children:"Start Your First Audit"})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-dark-800 rounded-lg hover:bg-dark-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center border ".concat((e=>{switch(e){case"completed":return"text-green-400 bg-green-400/10 border-green-400/20";case"in-progress":return"text-yellow-400 bg-yellow-400/10 border-yellow-400/20";case"failed":return"text-red-400 bg-red-400/10 border-red-400/20";default:return"text-dark-400 bg-dark-400/10 border-dark-400/20"}})(e.status)),children:(e=>{switch(e){case"completed":return(0,a.jsx)(l.A,{className:"w-4 h-4"});case"in-progress":default:return(0,a.jsx)(c.A,{className:"w-4 h-4"});case"failed":return(0,a.jsx)(d.A,{className:"w-4 h-4"})}})(e.status)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-white",children:e.repository}),(0,a.jsx)("p",{className:"text-sm text-dark-400",children:null==(t=e.completedAt)?void 0:t.toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.vulnerabilities.critical>0&&(0,a.jsxs)("span",{className:"text-red-400 font-medium",children:[e.vulnerabilities.critical," Critical"]}),e.vulnerabilities.high>0&&(0,a.jsxs)("span",{className:"text-orange-400 font-medium",children:[e.vulnerabilities.high," High"]})]}),(0,a.jsxs)("p",{className:"text-xs text-dark-400",children:[e.vulnerabilities.medium," Medium, ",e.vulnerabilities.low," Low"]})]}),(0,a.jsx)(y(),{href:"/dashboard/reports/".concat(e.id),className:"text-primary-400 hover:text-primary-300",children:(0,a.jsx)(h.A,{className:"w-5 h-5"})})]})]},e.id)})})]})]})}},8915:(e,t,s)=>{"use strict";s.d(t,{db:()=>d,j2:()=>c,pD:()=>n});var a=s(3915),i=s(3004),r=s(5317);let l=0===(0,a.Dk)().length?(0,a.Wp)({apiKey:"AIzaSyDKdgXZotQ1ICFeMQB8uSKPBoF4agTs0pU",authDomain:"vibelog-lj17r.firebaseapp.com",projectId:"vibelog-lj17r",storageBucket:"vibelog-lj17r.firebasestorage.app",messagingSenderId:"503085211993",appId:"1:503085211993:web:0f0251743019bc1830ec48"}):(0,a.Dk)()[0],c=(0,i.xI)(l),d=(0,r.aU)(l),n=new i.Dt;n.addScope("repo")}},e=>{e.O(0,[992,416,16,734,279,441,964,358],()=>e(e.s=7121)),_N_E=e.O()}]);